---
title: Как сохранить консистентность в случае ошибки в одном из микросервисов?
keywords: microservices, concurrency, consistency
complexity: 3
links: ❗
content: ❗
---

Представим ситуацию, что мы используем микросервисный подход. У нас есть брокер сообщений, который имеет определенный heart beat.

Как нам сохранить консистентность в случае:
- ошибки в одном из подписчиков брокера;
- если один из подписчиков еще не обработал запрос, а пришло следующее сообщение от брокера в другого подписчика;
- брокер сообщений может думать что подписчик упал, а он жив и обрабатывает сообщение.
- если подписчик не успел выполнить обработку, а брокер принял это за ошибку и перенаправил в другого подписчика. 